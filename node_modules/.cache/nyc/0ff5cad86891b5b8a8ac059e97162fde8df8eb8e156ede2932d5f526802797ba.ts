"use strict";var cov_22mvi88eca=function(){var path="/Users/fastpagamentos/development/Testes/graphql-2/src/models/UserModel.ts";var hash="8af45d1c0b35e12cd3a1c6861b1bf6eccdf4d3a0";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/fastpagamentos/development/Testes/graphql-2/src/models/UserModel.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:19},end:{line:3,column:38}},"2":{start:{line:4,column:0},end:{line:59,column:2}},"3":{start:{line:5,column:17},end:{line:52,column:6}},"4":{start:{line:42,column:29},end:{line:42,column:53}},"5":{start:{line:43,column:16},end:{line:43,column:73}},"6":{start:{line:46,column:16},end:{line:49,column:17}},"7":{start:{line:47,column:33},end:{line:47,column:57}},"8":{start:{line:48,column:20},end:{line:48,column:77}},"9":{start:{line:53,column:4},end:{line:54,column:6}},"10":{start:{line:55,column:4},end:{line:57,column:6}},"11":{start:{line:56,column:8},end:{line:56,column:65}},"12":{start:{line:58,column:4},end:{line:58,column:16}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:18},end:{line:4,column:19}},loc:{start:{line:4,column:44},end:{line:59,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:41,column:26},end:{line:41,column:27}},loc:{start:{line:41,column:45},end:{line:44,column:13}},line:41},"2":{name:"(anonymous_2)",decl:{start:{line:45,column:26},end:{line:45,column:27}},loc:{start:{line:45,column:45},end:{line:50,column:13}},line:45},"3":{name:"(anonymous_3)",decl:{start:{line:53,column:21},end:{line:53,column:22}},loc:{start:{line:53,column:33},end:{line:54,column:5}},line:53},"4":{name:"(anonymous_4)",decl:{start:{line:55,column:32},end:{line:55,column:33}},loc:{start:{line:55,column:63},end:{line:57,column:5}},line:55}},branchMap:{"0":{loc:{start:{line:46,column:16},end:{line:49,column:17}},type:"if",locations:[{start:{line:46,column:16},end:{line:49,column:17}},{start:{line:46,column:16},end:{line:49,column:17}}],line:46}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"8af45d1c0b35e12cd3a1c6861b1bf6eccdf4d3a0"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_22mvi88eca.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const bcryptjs_1=(cov_22mvi88eca.s[1]++,require("bcryptjs"));cov_22mvi88eca.s[2]++;exports.default=(sequelize,DataTypes)=>{cov_22mvi88eca.f[0]++;const User=(cov_22mvi88eca.s[3]++,sequelize.define('User',{id:{type:DataTypes.INTEGER,allowNull:false,primaryKey:true,autoIncrement:true},name:{type:DataTypes.STRING(255),allowNull:false},email:{type:DataTypes.STRING(255),allowNull:false,unique:true,validate:{notEmpty:true}},password:{type:DataTypes.STRING(255),allowNull:false,validate:{notEmpty:true}},photo:{type:DataTypes.BLOB({length:'long'}),allowNull:true,defaultValue:null}},{tableName:'users',hooks:{beforeCreate:(user,options)=>{cov_22mvi88eca.f[1]++;const salt=(cov_22mvi88eca.s[4]++,bcryptjs_1.genSaltSync());cov_22mvi88eca.s[5]++;user.password=bcryptjs_1.hashSync(user.password,salt);},beforeUpdate:(user,options)=>{cov_22mvi88eca.f[2]++;cov_22mvi88eca.s[6]++;if(user.changed('password')){cov_22mvi88eca.b[0][0]++;const salt=(cov_22mvi88eca.s[7]++,bcryptjs_1.genSaltSync());cov_22mvi88eca.s[8]++;user.password=bcryptjs_1.hashSync(user.password,salt);}else{cov_22mvi88eca.b[0][1]++;}}}}));cov_22mvi88eca.s[9]++;User.associate=models=>{cov_22mvi88eca.f[3]++;};cov_22mvi88eca.s[10]++;User.prototype.isPassword=(encodedPassword,password)=>{cov_22mvi88eca.f[4]++;cov_22mvi88eca.s[11]++;return bcryptjs_1.compareSync(password,encodedPassword);};cov_22mvi88eca.s[12]++;return User;};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2Zhc3RwYWdhbWVudG9zL2RldmVsb3BtZW50L1Rlc3Rlcy9ncmFwaHFsLTIvc3JjL21vZGVscy9Vc2VyTW9kZWwudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYXN0cGFnYW1lbnRvcy9kZXZlbG9wbWVudC9UZXN0ZXMvZ3JhcGhxbC0yL3NyYy9tb2RlbHMvVXNlck1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsdUNBQThEO0FBb0I5RCxrQkFBZSxDQUFDLFNBQThCLEVBQUUsU0FBOEIsRUFBYSxFQUFFO0lBQ3pGLE1BQU0sSUFBSSxHQUNOLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO1FBQ3JCLEVBQUUsRUFBRTtZQUNBLElBQUksRUFBRSxTQUFTLENBQUMsT0FBTztZQUN2QixTQUFTLEVBQUUsS0FBSztZQUNoQixVQUFVLEVBQUUsSUFBSTtZQUNoQixhQUFhLEVBQUUsSUFBSTtTQUN0QjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztZQUMzQixTQUFTLEVBQUUsS0FBSztTQUNuQjtRQUNELEtBQUssRUFBRTtZQUNILElBQUksRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztZQUMzQixTQUFTLEVBQUUsS0FBSztZQUNoQixNQUFNLEVBQUUsSUFBSTtZQUNaLFFBQVEsRUFBRTtnQkFDTixRQUFRLEVBQUUsSUFBSTthQUNqQjtTQUNKO1FBQ0QsUUFBUSxFQUFFO1lBQ04sSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQzNCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLFFBQVEsRUFBRTtnQkFDTixRQUFRLEVBQUUsSUFBSTthQUNqQjtTQUNKO1FBQ0QsS0FBSyxFQUFFO1lBQ0gsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUM7Z0JBQ2pCLE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUM7WUFDRixTQUFTLEVBQUUsSUFBSTtZQUNmLFlBQVksRUFBQyxJQUFJO1NBQ3BCO0tBQ0osRUFBRTtRQUNDLFNBQVMsRUFBRSxPQUFPO1FBQ2xCLEtBQUssRUFBRTtZQUNILFlBQVksRUFBRSxDQUFDLElBQWtCLEVBQUUsT0FBZ0MsRUFBUSxFQUFFO2dCQUN6RSxNQUFNLElBQUksR0FBRyxzQkFBVyxFQUFFLENBQUE7Z0JBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsbUJBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBQ2pELENBQUM7WUFDRCxZQUFZLEVBQUUsQ0FBQyxJQUFrQixFQUFFLE9BQWdDLEVBQVEsRUFBRTtnQkFDekUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFDO29CQUN6QixNQUFNLElBQUksR0FBRyxzQkFBVyxFQUFFLENBQUE7b0JBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsbUJBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFBO2lCQUNoRDtZQUNMLENBQUM7U0FDSjtLQUNKLENBQUMsQ0FBQTtJQUVOLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxNQUF1QixFQUFRLEVBQUU7SUFFbkQsQ0FBQyxDQUFBO0lBRUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxlQUF1QixFQUFFLFFBQWdCLEVBQVcsRUFBRTtRQUMvRSxPQUFPLHNCQUFXLENBQUMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxDQUFBO0lBQ2pELENBQUMsQ0FBQTtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNb2RlbEludGVyZmFjZSB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcy9CYXNlTW9kZWxJbnRlcmZhY2UnO1xuaW1wb3J0IHsgZ2VuU2FsdFN5bmMsIGhhc2hTeW5jLCBjb21wYXJlU3luYyB9IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCAqIGFzIFNlcXVlbGl6ZSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgTW9kZWxzSW50ZXJmYWNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9Nb2RlbHNJbnRlcmZhY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBdHRyaWJ1dGVzIHtcbiAgICBpZD86IG51bWJlcjtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBhc3N3b3JkPzogc3RyaW5nO1xuICAgIHBob3RvPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJJbnN0YW5jZSBleHRlbmRzIFNlcXVlbGl6ZS5JbnN0YW5jZTxVc2VyQXR0cmlidXRlcz4sIFVzZXJBdHRyaWJ1dGVzIHtcbiAgICBpc1Bhc3N3b3JkKGVuY29kZWRQYXNzd29yZDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyTW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWxJbnRlcmZhY2UsIFNlcXVlbGl6ZS5Nb2RlbDxVc2VySW5zdGFuY2UsIFVzZXJBdHRyaWJ1dGVzPiB7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgKHNlcXVlbGl6ZTogU2VxdWVsaXplLlNlcXVlbGl6ZSwgRGF0YVR5cGVzOiBTZXF1ZWxpemUuRGF0YVR5cGVzKTogVXNlck1vZGVsID0+IHtcbiAgICBjb25zdCBVc2VyOiBVc2VyTW9kZWwgPVxuICAgICAgICBzZXF1ZWxpemUuZGVmaW5lKCdVc2VyJywge1xuICAgICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDI1NSksXG4gICAgICAgICAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyNTUpLFxuICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyNTUpLFxuICAgICAgICAgICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGhvdG86IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBEYXRhVHlwZXMuQkxPQih7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogJ2xvbmcnXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTpudWxsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0YWJsZU5hbWU6ICd1c2VycycsXG4gICAgICAgICAgICBob29rczoge1xuICAgICAgICAgICAgICAgIGJlZm9yZUNyZWF0ZTogKHVzZXI6IFVzZXJJbnN0YW5jZSwgb3B0aW9uczogU2VxdWVsaXplLkNyZWF0ZU9wdGlvbnMpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGdlblNhbHRTeW5jKClcbiAgICAgICAgICAgICAgICAgICAgdXNlci5wYXNzd29yZCA9IGhhc2hTeW5jKHVzZXIucGFzc3dvcmQsIHNhbHQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiZWZvcmVVcGRhdGU6ICh1c2VyOiBVc2VySW5zdGFuY2UsIG9wdGlvbnM6IFNlcXVlbGl6ZS5DcmVhdGVPcHRpb25zKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmNoYW5nZWQoJ3Bhc3N3b3JkJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGdlblNhbHRTeW5jKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoU3luYyh1c2VyLnBhc3N3b3JkLCBzYWx0KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgVXNlci5hc3NvY2lhdGUgPSAobW9kZWxzOiBNb2RlbHNJbnRlcmZhY2UpOiB2b2lkID0+IHtcblxuICAgIH1cblxuICAgIFVzZXIucHJvdG90eXBlLmlzUGFzc3dvcmQgPSAoZW5jb2RlZFBhc3N3b3JkOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVTeW5jKHBhc3N3b3JkLCBlbmNvZGVkUGFzc3dvcmQpXG4gICAgfVxuXG4gICAgcmV0dXJuIFVzZXI7XG59Il19